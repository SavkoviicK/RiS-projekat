package com.veterinarska.stanica.repository;

import com.veterinarska.stanica.model.ZahtevZaPrijateljstvo;
import com.veterinarska.stanica.model.Korisnik;
import org.springframework.data.jpa.repository.JpaRepository;

import java.util.List;

public interface ZahtevZaPrijateljstvoRepository extends JpaRepository<ZahtevZaPrijateljstvo, Long> {

    // da li već postoji zahtev od posiljaoca ka primaocu u odredjenom statusu
    boolean existsByPosiljalacAndPrimalacAndStatus(Korisnik posiljalac, Korisnik primalac, ZahtevZaPrijateljstvo.Status status);

    // svi zahtevi koji čekaju kod datog korisnika
    List<ZahtevZaPrijateljstvo> findByPrimalacAndStatus(Korisnik primalac, ZahtevZaPrijateljstvo.Status status);

    // opcionalno: svi zahtevi koje je korisnik poslao
    List<ZahtevZaPrijateljstvo> findByPosiljalac(Korisnik posiljalac);
}
